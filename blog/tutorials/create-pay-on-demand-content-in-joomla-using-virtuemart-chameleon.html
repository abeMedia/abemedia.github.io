<!DOCTYPE html>
<html lang="en">
  <head>
        
    
    
    
    
    
    
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Create pay-on-demand content in Joomla! using Virtuemart & Chameleon &bull; ABE Media</title>
    <meta name="description" content="Although Virtuemart offers downloadable goods out-the-box this isn’t always ideal. Say for example you run a premium (paid) video or article service and you don’t just want your visitors to be able to download the content they have bought but want them to be able to view it directly on your site whilst displaying a teaser to those who haven’t paid yet.

">
    <meta name="keywords" content="joomla, virtuemart, ecommerce">
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon-precomposed" href="/images/touch-icon-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/images/touch-icon-76x76-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/images/touch-icon-120x120-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/images/touch-icon-152x152-precomposed.png">
    <meta name="author" content="Adam Bouqdib">
    <link rel="canonical" href="http://abemedia.co.uk/blog/tutorials/create-pay-on-demand-content-in-joomla-using-virtuemart-chameleon" />
    
    <meta property="og:title" content="Create pay-on-demand content in Joomla! using Virtuemart & Chameleon" />
    <meta property="og:description" content="Although Virtuemart offers downloadable goods out-the-box this isn’t always ideal. Say for example you run a premium (paid) video or article service and you don’t just want your visitors to be able to download the content they have bought but want them to be able to view it directly on your site whilst displaying a teaser to those who haven’t paid yet.

" />
    <meta property="og:image" content="http://abemedia.co.uk/images/blog/pay-per-view.jpg" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="ABE Media"/>
    <meta property="og:locale" content="en_GB"/>
    <meta property="og:url" content="http://abemedia.co.uk/blog/tutorials/create-pay-on-demand-content-in-joomla-using-virtuemart-chameleon" />
    <meta property="fb:app_id" content="276049565908648" />
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@abemedia"/>
    <meta name="twitter:domain" content="http://abemedia.co.uk"/>
    <meta name="twitter:creator" content="@abemedia"/>
    
    <link rel='stylesheet' href="/assets/style.css?39" />
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="http://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <link rel="alternate" type="application/rss+xml" title="" href="/feed.xml">
</head>
  <body>
  <script data-cfasync="false">document.body.className = document.body.className + 'js';</script>
  <a class="sr-only" href="#content">Skip to main content</a> 
<header class="navbar navbar-inverse navbar-fixed-top" id="navbar">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button>
      <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="ABE Media"/></a>
    </div>
    <nav class="navbar-collapse collapse" role="navigation">
      <ul class="nav navbar-nav">
        <li><a href="/">Home</a></li>
        <li class="dropdown"> <a href="/services" class="dropdown-toggle" data-toggle="dropdown">Services <b class="caret"></b></a>
          <ul class="dropdown-menu">
            
            <li><a href="/web-design-brighton">
              <img class="hidden-xs img-responsive" src="/images/services/web-development.png" alt="Web Development">Web Development</a>
            
            <li><a href="/ecommerce-web-design">
              <img class="hidden-xs img-responsive" src="/images/services/ecommerce.png" alt="Ecommerce">Ecommerce</a>
            
            <li><a href="/content-management-systems-cms">
              <img class="hidden-xs img-responsive" src="/images/services/joomla-development.png" alt="CMS">CMS</a>
            
            <li><a href="/responsive-web-design">
              <img class="hidden-xs img-responsive" src="/images/services/mobile-websites.png" alt="Mobile Web Design">Mobile Web Design</a>
            
            <li><a href="/seo">
              <img class="hidden-xs img-responsive" src="/images/services/seo.png" alt="Digital Marketing">Digital Marketing</a>
            
            <li><a href="/services">
              <img class="hidden-xs img-responsive" src="/images/services/services.png" alt="All our services">More...</a>
        </ul>
        </li>
        <li><a href="/portfolio/">Portfolio</a></li>
        <li> <a href="/about">About</a></li>
        <li class="active"> <a href="/blog/">Blog</a></li>
        <li> <a href="/contact">Contact</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="hidden-sm hidden-xs"><a href="tel:+441273906909">01273 906 909</a></li>
        <li class="visible-lg"><a href="//twitter.com/abemedia" target="_blank"><i class="icon-twitter"></i></a></li>
        <li class="visible-lg"><a href="//plus.google.com/111817589436307167014/posts" target="_blank" rel="publisher"><i class="icon-google-plus"></i></a></li>
        <li class="visible-lg"><a href="//facebook.com/abemedia" target="_blank"><i class="icon-facebook"></i></a></li>
      </ul>
    </nav>
  </div>
</header>

  <div id="content" class="">
    
    <div class="container">
    <div class="fullrow"><div class="post-inner">
<article>
  <header class="article-header">
    <h1 class="page-header">Create pay-on-demand content in Joomla! using Virtuemart & Chameleon</h1>
    <div class="don-share" data-limit="3">
      <div class="don-share-total"></div>
      <div class="don-share-facebook"></div>
      <div class="don-share-twitter"></div>
      <div class="don-share-google"></div>
      <div class="don-share-linkedin"></div>
      <div class="don-share-pinterest"></div>
      <div class="don-share-stumbleupon"></div>
    </div>
    <script type="text/javascript"> 
      (function() {
        var dr = document.createElement('script');
        dr.type = 'text/javascript'; dr.async = true;
        dr.src = 'http://share.donreach.com/buttons.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dr);
      })();
    </script>
    <img alt="Create pay-on-demand content in Joomla! using Virtuemart & Chameleon" src="/images/blog/pay-per-view.jpg">
    <div class="article-info">
      <a href="/author/adam-bouqdib" rel="author" class="avatar">
        <img class="img-thumbnail" alt="Adam Bouqdib" src="/images/people/adam-bouqdib.jpg">
        <span class="h5">By Adam Bouqdib</span>
      </a>
	<time datetime="2011-10-15">15 Oct 2011</time>
    </div>
  </header>
  <div class="article-content"><p>Although <a href="http://www.virtuemart.net/">Virtuemart</a> offers downloadable goods out-the-box this isn’t always ideal. Say for example you run a premium (paid) video or article service and you don’t just want your visitors to be able to download the content they have bought but want them to be able to view it directly on your site whilst displaying a teaser to those who haven’t paid yet.</p>

<p>This would normally be quite a task but using a library called JomGenius that comes with <a href="http://www.metamodpro.com/">Metamod &amp; Chameleon</a> it’s actually pretty simple!</p>

<div class="alert alert-warning alert-dismissable">
  <strong>NOTE:</strong> This tutorial was written for Joomla! 1.5 &amp; VirtueMart 1.19.
</div>

<h2 id="create-custom-fields-in-virtuemart">1. Create custom fields in Virtuemart</h2>

<p>First of all we need to create custom fields in Virtuemart to hold the premium content.
If you’re using phpMyAdmin, open your database with it and find the jos_vm_products table.
Create 2 new fields, for this example I’m going to call them product_premium_content and product_premium_teaser.</p>

<p>Alternatively you can create them with the following SQL command:</p>

<div class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">alter</span> <span class="k">table</span> <span class="n">jos_vm_product</span> <span class="k">add</span> <span class="p">(</span>
    <span class="n">product_premium_content</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span> <span class="k">null</span>
<span class="p">);</span>
<span class="k">alter</span> <span class="k">table</span> <span class="n">jos_vm_product</span> <span class="k">add</span> <span class="p">(</span>
    <span class="n">product_premium_teaser</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span> <span class="k">null</span>
<span class="p">);</span></code></pre></div>

<h2 id="include-custom-fields-in-virtuemart-admin-template">2. Include custom fields in Virtuemart admin template</h2>

<p>Now that we have our new custom fields in the Virtuemart database we need to be able to edit their contents from within Virtuemart. To do so open administrator/components/com_virtuemart/html/product.product_form.php and around line 233 find:</p>

<div class="highlight"><pre><code class="language-html-php" data-lang="html+php"><span class="nt">&lt;tr</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span><span class="nt">&gt;</span> 
      <span class="nt">&lt;td</span> <span class="na">width=</span><span class="s">&quot;21%&quot;</span><span class="nt">&gt;&lt;div</span> <span class="na">style=</span><span class="s">&quot;text-align:right;font-weight:bold;&quot;</span><span class="nt">&gt;</span>
          <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$VM_LANG</span><span class="o">-&gt;</span><span class="na">_</span><span class="p">(</span><span class="s1">&#39;PHPSHOP_PRODUCT_FORM_URL&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>:<span class="nt">&lt;/div&gt;</span>
         <span class="nt">&lt;/td&gt;</span>
         <span class="nt">&lt;td</span> <span class="na">width=</span><span class="s">&quot;79%&quot;</span><span class="nt">&gt;</span> 
           <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">class=</span><span class="s">&quot;inputbox&quot;</span>  <span class="na">name=</span><span class="s">&quot;product_url&quot;</span> <span class="na">value=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">sp</span><span class="p">(</span><span class="s2">&quot;product_url&quot;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="s">&quot;</span> <span class="na">size=</span><span class="s">&quot;32&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;255&quot;</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;/td&gt;</span>
   <span class="nt">&lt;/tr&gt;</span></code></pre></div>

<p>Insert the following straight below:</p>

<div class="highlight"><pre><code class="language-html-php" data-lang="html+php"><span class="nt">&lt;tr</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span><span class="nt">&gt;</span> 
      <span class="nt">&lt;td</span> <span class="na">width=</span><span class="s">&quot;21%&quot;</span><span class="nt">&gt;&lt;div</span> <span class="na">style=</span><span class="s">&quot;text-align:right;font-weight:bold;&quot;</span><span class="nt">&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$VM_LANG</span><span class="o">-&gt;</span><span class="na">_</span><span class="p">(</span><span class="s1">&#39;PHPSHOP_PRODUCT_PREMIUM_CONTENT&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>:<span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td</span> <span class="na">width=</span><span class="s">&quot;79%&quot;</span><span class="nt">&gt;</span> 
        <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">class=</span><span class="s">&quot;inputbox&quot;</span>  <span class="na">name=</span><span class="s">&quot;product_premium_content&quot;</span> <span class="na">value=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">sp</span><span class="p">(</span><span class="s2">&quot;product_url&quot;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="s">&quot;</span> <span class="na">size=</span><span class="s">&quot;32&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;255&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;tr</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span><span class="nt">&gt;</span> 
      <span class="nt">&lt;td</span> <span class="na">width=</span><span class="s">&quot;21%&quot;</span><span class="nt">&gt;&lt;div</span> <span class="na">style=</span><span class="s">&quot;text-align:right;font-weight:bold;&quot;</span><span class="nt">&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$VM_LANG</span><span class="o">-&gt;</span><span class="na">_</span><span class="p">(</span><span class="s1">&#39;PHPSHOP_PRODUCT_PREMIUM_TEASER&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>:<span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td</span> <span class="na">width=</span><span class="s">&quot;79%&quot;</span><span class="nt">&gt;</span> 
        <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">class=</span><span class="s">&quot;inputbox&quot;</span>  <span class="na">name=</span><span class="s">&quot;product_premium_teaser&quot;</span> <span class="na">value=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">sp</span><span class="p">(</span><span class="s2">&quot;product_url&quot;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="s">&quot;</span> <span class="na">size=</span><span class="s">&quot;32&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;255&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span></code></pre></div>

<p>To include the new fields in Virtuemart’s SQL statements when creating or updating products open /administrator/components/com_virtuemart/classes/ps_product.php and find the following command (twice) around line 310 and line 513:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nv">$fields</span> <span class="o">=</span> <span class="k">array</span> <span class="p">(</span> <span class="s1">&#39;vendor_id&#39;</span> <span class="o">=&gt;</span> <span class="nv">$vendor_id</span><span class="p">,</span></code></pre></div>

<p>insert this code below it, making sure you do so for both the add() and update() function</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="s1">&#39;product_premium_content&#39;</span> <span class="o">=&gt;</span> <span class="nx">vmGet</span><span class="p">(</span><span class="nv">$d</span><span class="p">,</span><span class="s1">&#39;product_premium_content&#39;</span><span class="p">),</span>
<span class="s1">&#39;product_premium_teaser&#39;</span> <span class="o">=&gt;</span> <span class="nx">vmGet</span><span class="p">(</span><span class="nv">$d</span><span class="p">,</span><span class="s1">&#39;product_premium_teaser&#39;</span><span class="p">),</span></code></pre></div>

<p>Now it’s already possible to start populating Virtuemart with your products from the back-end, they just wont appear on the front-end of your website yet.</p>

<h2 id="modify-virtuemart-product-details-template">3. Modify Virtuemart product details template</h2>
<p>Next insert the premium content where you want it displayed on your product details page, in my case /components/com_virtuemart/themes/default/templates/product_details/flypage.tpl.php</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">defined</span><span class="p">(</span><span class="s2">&quot;ALREADY_PURCHASED&quot;</span><span class="p">))</span> <span class="k">echo</span> <span class="nv">$product_premium_teaser</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nb">defined</span><span class="p">(</span><span class="s2">&quot;ALREADY_PURCHASED&quot;</span><span class="p">))</span> <span class="k">echo</span> <span class="nv">$product_premium_content</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<p>The following example displays how you could use this for a pay-on-demand video site:</p>

<div class="highlight"><pre><code class="language-html-php" data-lang="html+php"><span class="nt">&lt;video</span> <span class="na">width=</span><span class="s">&quot;640&quot;</span> <span class="na">height=</span><span class="s">&quot;480&quot;</span> <span class="na">controls=</span><span class="s">&quot;controls&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">&quot;/</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="p">(</span><span class="o">!</span><span class="nb">defined</span><span class="p">(</span><span class="s2">&quot;ALREADY_PURCHASED&quot;</span><span class="p">))</span> <span class="o">?</span> <span class="nv">$product_premium_teaser</span> <span class="o">:</span> <span class="nv">$product_premium_content</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="s">.mp4&quot;</span> <span class="na">type=</span><span class="s">&quot;video/mp4&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">&quot;/</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="p">(</span><span class="o">!</span><span class="nb">defined</span><span class="p">(</span><span class="s2">&quot;ALREADY_PURCHASED&quot;</span><span class="p">))</span> <span class="o">?</span> <span class="nv">$product_premium_teaser</span> <span class="o">:</span> <span class="nv">$product_premium_content</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="s">.ogg&quot;</span> <span class="na">type=</span><span class="s">&quot;video/ogg&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">&quot;/</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="p">(</span><span class="o">!</span><span class="nb">defined</span><span class="p">(</span><span class="s2">&quot;ALREADY_PURCHASED&quot;</span><span class="p">))</span> <span class="o">?</span> <span class="nv">$product_premium_teaser</span> <span class="o">:</span> <span class="nv">$product_premium_content</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="s">.webm&quot;</span> <span class="na">type=</span><span class="s">&quot;video/webm&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;object</span> <span class="na">data=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="p">(</span><span class="o">!</span><span class="nb">defined</span><span class="p">(</span><span class="s2">&quot;ALREADY_PURCHASED&quot;</span><span class="p">))</span> <span class="o">?</span> <span class="nv">$product_premium_teaser</span> <span class="o">:</span> <span class="nv">$product_premium_content</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="s">.mp4&quot;</span> <span class="na">width=</span><span class="s">&quot;640&quot;</span> <span class="na">height=</span><span class="s">&quot;480&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;embed</span> <span class="na">src=</span><span class="s">&quot;/</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="p">(</span><span class="o">!</span><span class="nb">defined</span><span class="p">(</span><span class="s2">&quot;ALREADY_PURCHASED&quot;</span><span class="p">))</span> <span class="o">?</span> <span class="nv">$product_premium_teaser</span> <span class="o">:</span> <span class="nv">$product_premium_content</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="s">.swf&quot;</span> <span class="na">width=</span><span class="s">&quot;640&quot;</span> <span class="na">height=</span><span class="s">&quot;480&quot;</span><span class="nt">&gt;</span>
Your browser does not support video
  <span class="nt">&lt;/object&gt;</span> 
<span class="nt">&lt;/video&gt;</span></code></pre></div>

<p>As you can see in my example I’m embedding a video using if (defined(“ALREADY_PURCHASED”)) to determine the URL of the flash file I’m displaying, depending on if the current user has bought the item or not.</p>

<p>Feel free to adapt it to your needs as you could use the same method to display any other type of media such as a audio or video playlist or even an app (by including a php file). The possibilities are endless…</p>

<h2 id="use-chameleon-to-check-if-user-has-purchased">4. Use Chameleon to check if user has purchased</h2>
<p>This is the magical part. We need to set the variable which decides if the current user is allowed to see our premium content or not.
This part is actually suprisingly easy! Just <a href="http://www.metamodpro.com/chameleon/download">download ChameleonLite</a> and install it in your Joomla! backend.</p>

<p>Now navigate to Components -&gt; ChameleonLite -&gt; Rules and create a new Rule with the following content:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nv">$vm</span> <span class="o">=</span> <span class="nx">JomGenius</span><span class="p">(</span><span class="s2">&quot;virtuemart&quot;</span><span class="p">);</span>
<span class="nv">$product_id</span> <span class="o">=</span> <span class="nv">$vm</span><span class="o">-&gt;</span><span class="na">info</span><span class="p">(</span><span class="s2">&quot;product_id&quot;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$product_id</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$vm</span><span class="o">-&gt;</span><span class="na">check</span><span class="p">(</span><span class="s2">&quot;previous_purchase_product_ids  = &quot;</span><span class="p">,</span><span class="nv">$product_id</span><span class="p">))</span> <span class="nb">define</span><span class="p">(</span><span class="s2">&quot;ALREADY_PURCHASED&quot;</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p>Job done. We have a catalog of premium content which only displays a teaser until the content has been unlocked by the customer. A great thanks to Stephen from <a href="http://www.metamodpro.com/">metamodpro.com</a> for integrating this feature in JomGenius!</p>

<p><strong>A note to sh404sef users:</strong> make sure the Chameleon plugin executes AFTER sh404sef.</p>

    <small>Posted in <a href="/blog/tutorials">Tutorials</a></small>
  </div>
  
</article>
<hr>
<div id="disqus_thread"></div>
</div>
<br><br></div>
    </div>
    
  </div>
    <footer>
    <div class="container">
      <p class="text-left">&copy; 2016 ABE Media &bull; <a href="/privacy" rel="nofollow">Privacy</a> &bull; <a href="/terms" rel="nofollow">Terms</a> &bull; <a href="/sitemap">Sitemap</a></p>
    </div>
  </footer>
  
  <!-- JS only. -->
  <script async src="/assets/scripts.js?39"></script>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-22039203-1', 'abemedia.co.uk');
    ga('send', 'pageview');
  
  </script>

  </body>
</html>
